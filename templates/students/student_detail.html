{% extends 'base.html' %}
{% block content %}

<style>
  .action-btn {
    min-width: 80px;
    text-align: center;
  }
</style>

<br>
<a href="{% url 'dashboard' %}" class="btn btn-secondary">‚Üê Back</a>
<br><br>

<h2>{{ student.name }}</h2>
<p>Email: {{ student.email }}</p>
<p>Year Level: {{ student.year_level }}</p>

<a href="{% url 'grade_add' student.id %}" class="btn btn-primary mb-2">Add Grade</a>

<h4>Grades</h4>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Subject</th>
      <th>Activity</th>
      <th>Quiz</th>
      <th>Exam</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for grade in grades %}
    <tr>
      <td>{{ grade.subject.title }}</td>
      <td>{{ grade.activity }}</td>
      <td>{{ grade.quiz }}</td>
      <td>{{ grade.exam }}</td>
      <td class="d-flex flex-wrap gap-2">
        <a href="{% url 'grade_edit' grade.id %}" class="btn btn-sm btn-warning action-btn">Edit</a>
        <form action="{% url 'grade_delete' grade.id %}" method="post">
          {% csrf_token %}
          <button type="submit" class="btn btn-sm btn-danger action-btn" onclick="return confirm('Are you sure you want to delete this grade?');">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
